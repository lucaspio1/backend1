
# Sistema Backend para GestÃ£o de Planos de Operadoras de Internet


Este projeto implementa um backend para gerenciar planos de operadoras de internet, clientes, assinaturas e pagamentos. Adotamos a **Arquitetura Limpa** e os princÃ­pios **SOLID** para garantir um cÃ³digo modular, testÃ¡vel e fÃ¡cil de manter.


## ğŸ’¡ Funcionalidades Principais

*   **Cadastro de Clientes:** Gerencie informaÃ§Ãµes detalhadas dos seus clientes.
*   **Gerenciamento de Planos:** Defina e personalize diferentes planos de internet.
*   **Assinaturas:** Crie, renove e cancele assinaturas de forma eficiente.
*   **Controle de Pagamentos:** Registre e acompanhe os pagamentos das assinaturas.
*   **API RESTful:** Uma API completa para interagir com o sistema.
*   **Testes Automatizados:** Garanta a qualidade do cÃ³digo com testes unitÃ¡rios e de integraÃ§Ã£o.

## ğŸ› ï¸ Tecnologias Utilizadas

*   **Backend:**
    *   [Node.js](https://nodejs.org/en/): Plataforma de execuÃ§Ã£o JavaScript para o backend.
    *   [Express](https://expressjs.com/): Framework para criaÃ§Ã£o de APIs REST.
    *   [Sequelize](https://sequelize.org/): ORM para facilitar a interaÃ§Ã£o com o banco de dados.
*   **Banco de Dados:**
    *   [MySQL](https://www.mysql.com/): Banco de dados relacional para armazenar os dados.
*   **Testes:**
    *   [Jest](https://jestjs.io/): Framework de testes JavaScript.
    *   [Supertest](https://github.com/visionmedia/supertest): Biblioteca para testar APIs HTTP.
*   **Outras Ferramentas:**
    *   [Postman](https://www.postman.com/): Ferramenta para testar e documentar os endpoints da API.

## ğŸ—‚ï¸ Estrutura do Projeto

```
/backend
|-- src
|   |-- application      # LÃ³gica de casos de uso
|   |-- domain           # Regras de negÃ³cio e entidades
|   |   |-- entities
|   |-- infrastructure   # ImplementaÃ§Ãµes concretas (banco de dados, rotas.)
|   |   |-- repositories
|   |   |-- database
|   |   |-- routes
|   |   |-- server.js    # Ponto de entrada da aplicaÃ§Ã£o
|-- tests              # Testes unitÃ¡rios e de integraÃ§Ã£o
|-- package.json       # InformaÃ§Ãµes e dependÃªncias do projeto
|-- README.md          # DocumentaÃ§Ã£o do projeto
```

## âš™ï¸ InstalaÃ§Ã£o e ConfiguraÃ§Ã£o

### âš ï¸ PrÃ©-requisitos

*   [Node.js](https://nodejs.org/en/) (versÃ£o 16 ou superior)
*   [MySQL](https://www.mysql.com/)

### â¬‡ï¸ Clonando o RepositÃ³rio


git clone https://github.com/lucaspio1/backend1.git
cd backend

### ğŸ“¦ Instalando DependÃªncias


npm install


### âš™ï¸ Configurando o Banco de Dados

1.  No MySQL, crie o banco de dados:

    
    CREATE DATABASE operadora_db;
    

2.  Edite o arquivo `src/infrastructure/database/database.js` e configure as credenciais do banco de dados.

### ğŸŒ± Populando o Banco de Dados (Opcional)

Para inserir dados iniciais no banco de dados (Ãºtil para testes):


node src/infrastructure/database/seed.js


### ğŸš€ Iniciando o Servidor


npm start


O backend estarÃ¡ rodando em `http://localhost:3000`.

## ğŸ•¹ï¸ Endpoints da API

Aqui estÃ¡ uma visÃ£o geral dos principais endpoints da API:

### ğŸ‘¤ Clientes

*   `GET /gestao/clientes`: Lista todos os clientes.
*   `POST /gestao/clientes`: Cria um novo cliente.

### ğŸ¢ Planos

*   `GET /gestao/planos`: Lista todos os planos.
*   `POST /gestao/planos`: Cria um novo plano.

### ğŸ“ Assinaturas

*   `POST /gestao/assinaturas`: Cria uma nova assinatura.
*   `GET /gestao/assinaturas`: Lista todas as assinaturas.
*   `PUT /gestao/assinaturas/:id/renovar`: Renova uma assinatura especÃ­fica.
*   `PUT /gestao/assinaturas/:id/cancelar`: Cancela uma assinatura especÃ­fica.

### ğŸ’° Pagamentos

*   `POST /faturamento/pagamentos`: Registra um novo pagamento.
*   `GET /faturamento/pagamentos/assinatura/:assinaturaId`: Lista os pagamentos de uma assinatura especÃ­fica.

## âœ… Testes Automatizados

Para executar os testes automatizados:


npm test


Isso executarÃ¡ os testes unitÃ¡rios e de integraÃ§Ã£o definidos na pasta `tests/`.

## ğŸ“¦ Postman Collection

Para facilitar o teste dos endpoints, disponibilizamos uma collection do Postman. Importe o arquivo `template.postman_collection.json` no Postman.

## ğŸ¤ ContribuiÃ§Ã£o

ContribuiÃ§Ãµes sÃ£o sempre bem-vindas! Se vocÃª tiver alguma sugestÃ£o, encontrou um bug ou quer adicionar uma nova funcionalidade, siga estes passos:

1.  FaÃ§a um fork do repositÃ³rio.
2.  Crie uma branch com a sua feature (`git checkout -b feature/nova-funcionalidade`).
3.  FaÃ§a o commit das suas alteraÃ§Ãµes (`git commit -am 'Adiciona nova funcionalidade'`).
4.  FaÃ§a o push para a branch (`git push origin feature/nova-funcionalidade`).
5.  Crie um Pull Request.

